{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/160/","result":{"data":{"markdownRemark":{"html":"<h3>ref, setRef</h3>\n<p>카카오톡 SDK를 통해 공유하기 버튼을 작동하게 하는 코드를 짜다가 ref에 HTML 태그가 존재하는 시점에 SDK의 함수를 실행시켜야 했는데, ref는 useEffect의 dependency에 넣어둬도 해당 값에 따라 바뀌지 않는다. 이런 경우에 useState와 ref에 함수를 넘겨서 해결할 수 있다.</p>\n<pre><code class=\"language-tsx\">const [ref, setRef] = useState(null);\n\nuseEffect(() => {}, [ref]);\n\nreturn &#x3C;div ref={setRef}>&#x3C;/div>\n</code></pre>\n<h3>vite의 env를 사용할 때 타입 선언 하기</h3>\n<pre><code class=\"language-ts\">interface ImportMetaEnv {\n  readonly VITE_KAKAOTALK_JS_SDK_KEY: string;\n}\n\ninterface ImportMeta {\n  readonly env: ImportMetaEnv;\n}\n</code></pre>\n<p>참고)</p>\n<ul>\n<li><a href=\"https://github.com/vitejs/vite/issues/3524\">vitejs/vite#3524</a></li>\n</ul>\n<h3>CustomEvent, dispatchEvent</h3>\n<p>CustomEvent로 새로운 이벤트를 생성하고, dispatchEvent로 해당 이벤트를 발송할 수 있다.</p>\n<pre><code class=\"language-js\">// CustomEvent 생성\nconst catFound = new CustomEvent(\"animalfound\", {\n  detail: {\n    name: \"cat\",\n  },\n});\nconst dogFound = new CustomEvent(\"animalfound\", {\n  detail: {\n    name: \"dog\",\n  },\n});\n\n// 적합한 이벤트 수신기 부착\nobj.addEventListener(\"animalfound\", (e) => console.log(e.detail.name));\n\n// 이벤트 발송\nobj.dispatchEvent(catFound);\nobj.dispatchEvent(dogFound);\n\n// 콘솔에 \"cat\"과 \"dog\"가 기록됨\n</code></pre>\n<h3>옵저버 패턴</h3>\n<p>옵저버 패턴은 여러 객체에 자신을 관찰 중인 객체에 발생하는 모든 이벤트에 대하여 알리는 행동 디자인 패턴이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; height: 334.96932515337426px\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d5ff778ac0382523fecf5aee9aaa5c37/ad997/observer-pattern.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.533742331288344%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABP0lEQVQoz4WSW6vCQAyE/f9/q/TNl2pRWkWxVqH1ilWrvY18kfWoCGdh2DSZnZ2k25Okrus+4Nav3H+r94t8v99V1/VH7na76Xq9GoipwyvL0nLsaPWcwDu2260Wi4XSNNXxeDRynucqikKn00mz2UxBEGg6nepwOBhns9nofD4/BSH4vi/P89Tv97VarawIeblcKssyTSYTzedz4w6HQ43HY4u5CAOcQdgEsczNACFcYt+1zoHRaGSiIIoi7fd7A86ou25MsGmaFxD4nutut7MRcCGHACIIUnNmgP0U1MMw1GAwsNtpkcHj1s2HPK0yO3jEDnEca71ePwVxwKEkSWxeFBg+7TIjxFjkqQPHZX8HJkywqqrXHybpngLA5eVy+XgFcNwZxkQM2rb9ezbfAgBhdvf2iKnTATm+XR4ugg892/rokdYWtwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"옵저버패턴\"\n        title=\"옵저버패턴\"\n        src=\"/static/d5ff778ac0382523fecf5aee9aaa5c37/a6d36/observer-pattern.png\"\n        srcset=\"/static/d5ff778ac0382523fecf5aee9aaa5c37/222b7/observer-pattern.png 163w,\n/static/d5ff778ac0382523fecf5aee9aaa5c37/ff46a/observer-pattern.png 325w,\n/static/d5ff778ac0382523fecf5aee9aaa5c37/a6d36/observer-pattern.png 650w,\n/static/d5ff778ac0382523fecf5aee9aaa5c37/e548f/observer-pattern.png 975w,\n/static/d5ff778ac0382523fecf5aee9aaa5c37/ad997/observer-pattern.png 1012w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>장점</strong></p>\n<ul>\n<li>개방/폐쇄 원칙 -> 발행인의 코드를 변경하지 않고도 새 구독자를 도입할 수 있다.(반대도 가능)</li>\n<li>런타임에 객체 간의 관계들을 형성할 수 있다.</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>구독자들은 무작위로 알림을 받는다.</li>\n</ul>\n<p>참고)</p>\n<ul>\n<li><a href=\"https://refactoring.guru/ko/design-patterns/observer\">https://refactoring.guru/ko/design-patterns/observer</a></li>\n</ul>","frontmatter":{"title":"8월 4주차","date":"2023년 08월 29일, 06:15"}}},"pageContext":{"slug":"/16/post160/","previous":{"fields":{"slug":"/16/post159/"},"frontmatter":{"title":"8월 3주차","path":"/posts/159"}},"next":null}},"staticQueryHashes":["3649515864"],"slicesMap":{}}