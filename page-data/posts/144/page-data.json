{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/144/","result":{"data":{"markdownRemark":{"html":"<h3>End to End Test</h3>\n<ul>\n<li>종단(Endpoint) 간 테스트로, 사용자 입장에서 테스트</li>\n<li>Web, App 등에서 GUI를 통해서 시나리오, 기능 테스트 등을 수행</li>\n</ul>\n<h3>Cypress</h3>\n<ul>\n<li>자바스크립트 E2E 테스트 프레임워크</li>\n<li>브라우저 내부에서 동작\n<ul>\n<li>직접 블라우저의 DOM API를 이용</li>\n<li>Iframe에 타겟 web을 올린 뒤 brower 내부에서 접근</li>\n<li>멀티탭 불가</li>\n</ul>\n</li>\n<li>내장된 코드로 서버 응답을 Mocking 가능(<a href=\"https://docs.cypress.io/api/commands/server#Syntax\">https://docs.cypress.io/api/commands/server#Syntax</a>)</li>\n</ul>\n<h3>다른 도구들</h3>\n<ul>\n<li>selenium\n<ul>\n<li>webdriver를 사용해서 동작\n<ul>\n<li>프로세스 간의 통신(webdriver에 명령 전달)으로 느림</li>\n<li>다양안 언어 지원</li>\n<li>Cypress와 다르게 멀티탭 혹은 브라우저를 직접 제어 가능</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>TestCafe\n<ul>\n<li>cypress와 비슷한 느낌</li>\n</ul>\n</li>\n<li>Puppeteer\n<ul>\n<li>자바스크립트 용 셀레니엄(?)</li>\n<li>web driver를 사용</li>\n</ul>\n</li>\n<li>Nightwatch</li>\n</ul>\n<h3>간단한 Cypress 예제</h3>\n<pre><code class=\"language-bash\"># 설치\nnpm install cypress\n</code></pre>\n<p>간단한 프로젝트를 만들고, npm으로 설치</p>\n<pre><code class=\"language-json\">{\n  \"scripts\":{\n    \"cypress:open\": \"cypress open\"\n  }\n}\n</code></pre>\n<p>package.json에 script 추가</p>\n<pre><code class=\"language-bash\"># 실행\nnpm run cypress:open\n</code></pre>\n<p>추가한 script로 실행</p>\n<p>Cypress를 한번 실행하면,</p>\n<p>Cypress폴더가 생성되고, 해당 폴더 안에 4가지 폴더가 자동으로 생성된다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c07b887813bda5664abad36c692942d6/4d4a2/cypress1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAADGElEQVQ4y5WUy4/bVBjFvYB/oEUtMI3ycHz9SmI7sSe285y87SSTx6R0VAa1gITErFjwkLorqtTuEDtWsOgf+kP3okFU6kzD4ujK914fn+98x59WqeiUS2WcWoMw7iCESa1WJwiaRNEplmVTrRoYhjgKWpz2WGQrZvmafHtgOltwcXii1vFkiu3U0KsGVcM8Ctpp06efJvTiU548veLyy6/Yr5dk0zHDTkIatRDlImaldBS0z+spD52Yz+op7uSAdbbDSObURzv86QGru+Shm3Li9Xjk9dR6K/w+mrZ5hbZ9xUeHN1jf/4753W/o13/QffGW8Mc/CX/6i+TFWz4+vEZbvkRb//p+rF6ibd+gfZLsuZ/s+bT7mNLoksLqOcXxUxrrbwg232Jnz3Dy5zxIL7jX3nE/vgPJBZqpl7D0Mp5tIqoVTq6f0V9nLIYDstmUdbZgt14R1F2MUgF5/04Pq8LEEBaW7WJaDv1Fjt9q4fkBYdSmHaeq00d3+SY/rlujXqsx31/hRUPmsxnT6Ywsy1Uudb2q7n0ok4pQhtkyTU4Kgnz4iF++vkcYxYzORvR6/XcIPxjsG0LTNCkWygxPT7jMH9DwAjqdLr1uj3q98f8IZe2yKYWLH/CvfqafDlhkOYtFRrPZolyuHFXuv4QSphDUulOi0Zyw6dPp9kiSFM/z3yE6ykMJ23RYbi/J91+QJimbzZbVas1gMFQK5RA5pjH/eGjYNEKLbhZQb/hqysRxgu8HaurIspvNJrbtHKPQwDJqRGOH69eP6aR98jxXkZFNkbGRkIrlR6TSu1RqQggqukHD0ek0SwR+nShqk6YdRRCGofLSdV1VskzEEYQCz63SaZWIwoDZPGM8nij/hsMzJpMpjYZHqVRWft6QvY9UM4RArxjYnklwJpQqGZfReEyeL+l2e4p8NBorG+SZ47i35lIRVnUDyxF4sVCNaLfbhGFEvz9QDWm1QoV2O1b7pmndXbJU6Pom0UwoRev1OVmWsdvtVbnn5xu1XyyWjij55kAITNtQ/60Ms1ylGumdfJaR+e+Ltyn8G2FLr/Ojf0ZPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cypress1\"\n        title=\"cypress1\"\n        src=\"/static/c07b887813bda5664abad36c692942d6/0b533/cypress1.png\"\n        srcset=\"/static/c07b887813bda5664abad36c692942d6/fac75/cypress1.png 125w,\n/static/c07b887813bda5664abad36c692942d6/63868/cypress1.png 250w,\n/static/c07b887813bda5664abad36c692942d6/0b533/cypress1.png 500w,\n/static/c07b887813bda5664abad36c692942d6/4d4a2/cypress1.png 606w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li><strong>fixture</strong>\n<ul>\n<li>고정된 데이터를 넣어두는 폴더</li>\n</ul>\n</li>\n<li><strong>integration</strong>\n<ul>\n<li>테스트를 작성하는 폴더</li>\n</ul>\n</li>\n<li><strong>plugin</strong>\n<ul>\n<li>cypress 플러그인을 등록하는 폴더</li>\n</ul>\n</li>\n<li><strong>support</strong>\n<ul>\n<li>커스텀으로 명령어를 만들 수 있는 폴더</li>\n<li>ex) 로그인을 하는 함수</li>\n</ul>\n</li>\n</ul>\n<h3>test.js</h3>\n<pre><code class=\"language-js\">describe('User list test', () => {\n  it(\"유저 추가\", () => {\n    cy.visit(\"http://localhost:3000\");\n    cy.get(\".id\").type(\"테스트아이디\");\n    cy.get(\".email\").type(\"test@email.com\");\n    cy.get(\".submit\").click();\n    cy.contains(\"테스트아이디\").click();\n    cy.get('#root > :nth-child(3)').should('contain', 2);\n  })\n})\n</code></pre>\n<ul>\n<li><strong>visit</strong>(<a href=\"https://docs.cypress.io/api/commands/visit\">https://docs.cypress.io/api/commands/visit</a>)\n<ul>\n<li>테스트하고자할 서버를 입력</li>\n</ul>\n</li>\n<li><strong>get</strong>(<a href=\"https://docs.cypress.io/api/commands/get#Syntax\">https://docs.cypress.io/api/commands/get#Syntax</a>)\n<ul>\n<li>해당 element를 가져옴</li>\n<li>queryselector와 같은 역할</li>\n</ul>\n</li>\n<li><strong>type</strong>(<a href=\"https://docs.cypress.io/api/commands/type#Syntax\">https://docs.cypress.io/api/commands/type#Syntax</a>)\n<ul>\n<li>dom 엘리먼트에 값을 타이핑</li>\n</ul>\n</li>\n<li><strong>contains</strong>(<a href=\"https://docs.cypress.io/api/commands/contains\">https://docs.cypress.io/api/commands/contains</a>)\n<ul>\n<li>dom 엘리먼트의 text 값을 확인</li>\n</ul>\n</li>\n<li><strong>should</strong>(<a href=\"https://docs.cypress.io/api/commands/should#Syntax\">https://docs.cypress.io/api/commands/should#Syntax</a>)\n<ul>\n<li>Assertion을 생성</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 377px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.599999999999994%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQoz41RjWuCcBD1//+PgqDpotnyI6x+asoKRWegkZXf2ht3MVgxxg4edwfv3n1JwUeAQ3xA13VomgZt27In5HmOOI4RBAHKssT1emUURcGgOAxDqKqKNE1BJk3tKUQoEH/eC3e7HZOSJMF+v8fW3WLxvkAURbjdbtywrmtuSJ54QgicTqe7oOIrsCIL680almVxN8Mw4LoubNuG7/mYq3OsViscj0dUVYW/TFJfVTgbh4s9z+PC5XLJOYGECWIjMB6PmTMMA0/7G6TZ2wyTlwmPTTBNk6fUdR2O40DTNPi+zzGtrygK88iexXjC0WjEArIsM5FulWXZw60I9DTKz/mZH/JT8GFl+iR98HK5sEjf9/iPPQt9C34BpdYLtrzwoqYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cypress2\"\n        title=\"cypress2\"\n        src=\"/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png\"\n        srcset=\"/static/ccbf8fe9f914cae195364eb9594d76ff/fac75/cypress2.png 125w,\n/static/ccbf8fe9f914cae195364eb9594d76ff/63868/cypress2.png 250w,\n/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png 377w\"\n        sizes=\"(max-width: 377px) 100vw, 377px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위의 그림에서 저 테스트 내용을 시나리오를 해보면,</p>\n<ol>\n<li>id classname을 가진 input에 '테스트아이디' 텍스트 입력</li>\n<li>email classname을 가진 input에 '<a href=\"mailto:test@email.com\">test@email.com</a>' 입력</li>\n<li>button을 눌러 제출</li>\n<li>'테스트아이디'를 가진 엘리먼트를 클릭</li>\n<li>활성화된 유저가 2가 되면 테스트 성공</li>\n</ol>\n<h3>실행화면</h3>\n<p><img src=\"/src/images/c7753c46baabcf72aaba97783fde9647/cypress3.gif\" alt=\"cypress3\"></p>\n<h3>참고</h3>\n<ul>\n<li><a href=\"https://www.cypress.io/\">Cypress</a></li>\n</ul>","frontmatter":{"title":"[Cypress] 자바스크립트 e2e 테스트 프레임워크","date":"2021년 06월 03일, 22:40"}}},"pageContext":{"slug":"/15/post144/","previous":{"fields":{"slug":"/15/post143/"},"frontmatter":{"title":"[RxJS] ReactiveX javascript","path":"/posts/143"}},"next":{"fields":{"slug":"/15/post145/"},"frontmatter":{"title":"[백준] 2638번 치즈","path":"/posts/145"}}}},"staticQueryHashes":["3649515864"],"slicesMap":{}}