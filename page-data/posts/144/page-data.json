{"componentChunkName":"component---src-templates-blog-template-js","path":"/posts/144","result":{"data":{"markdownRemark":{"html":"<h3>End to End Test</h3>\n<ul>\n<li>종단(Endpoint) 간 테스트로, 사용자 입장에서 테스트</li>\n<li>Web, App 등에서 GUI를 통해서 시나리오, 기능 테스트 등을 수행</li>\n</ul>\n<h3>Cypress</h3>\n<ul>\n<li>자바스크립트 E2E 테스트 프레임워크</li>\n<li>브라우저 내부에서 동작\n<ul>\n<li>직접 블라우저의 DOM API를 이용</li>\n<li>Iframe에 타겟 web을 올린 뒤 brower 내부에서 접근</li>\n<li>멀티탭 불가</li>\n</ul>\n</li>\n<li>내장된 코드로 서버 응답을 Mocking 가능(<a href=\"https://docs.cypress.io/api/commands/server#Syntax\">https://docs.cypress.io/api/commands/server#Syntax</a>)</li>\n</ul>\n<h3>다른 도구들</h3>\n<ul>\n<li>selenium\n<ul>\n<li>webdriver를 사용해서 동작\n<ul>\n<li>프로세스 간의 통신(webdriver에 명령 전달)으로 느림</li>\n<li>다양안 언어 지원</li>\n<li>Cypress와 다르게 멀티탭 혹은 브라우저를 직접 제어 가능</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>TestCafe\n<ul>\n<li>cypress와 비슷한 느낌</li>\n</ul>\n</li>\n<li>Puppeteer\n<ul>\n<li>자바스크립트 용 셀레니엄(?)</li>\n<li>web driver를 사용</li>\n</ul>\n</li>\n<li>Nightwatch</li>\n</ul>\n<h3>간단한 Cypress 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 설치</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> cypress</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>간단한 프로젝트를 만들고, npm으로 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"cypress:open\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cypress open\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>package.json에 script 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 실행</span>\n<span class=\"token function\">npm</span> run cypress:open</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>추가한 script로 실행</p>\n<p>Cypress를 한번 실행하면,</p>\n<p>Cypress폴더가 생성되고, 해당 폴더 안에 4가지 폴더가 자동으로 생성된다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c07b887813bda5664abad36c692942d6/4d4a2/cypress1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAADKUlEQVQ4y41UyY7TUBC0xI0bIwQIiLI43mLHsRM73hIzScaxHWdhklmkgQMMIJA4wgUkJDaB4MKJI0hI/GfR7zEsQswkh9KznzuV7urqFkSxjmqlClVrwPEjSLKCRkNHq2XBcVxodF+vS5AkeSMIrhcgzQok2QTF7j5GO2Ms9w4wTidIximMZgs1kREqqG8AwbVtbPd6iEMfq/0D3LpzjOWsQJGO0Q88RF0HiliFUqtCXosKhGuGj8uai6u6h8ZgASPZg+SN0Bou0E6W0OMClxserjdDlMx1iCAIi7cQFm9wbvUetQef0Hj0CZWHnxE++wbn6VfYT74gfP4d5w8/QCheQpi9/j+mr4jnHYSL4R62gj1c6h+iPDpCeXaM0ug2zPl9tHcfQiuOoU/v0fcDXPBXPHYrWP2Dk7twH4LK9CGYmgKNdLjy4Ai91RxpHCNPE0yzFMv5DK5lol4ugceTVqdBYDaRZBUaWUWmMxpn6HgeTLJNx+nC80MYhsnttFGXf/lH1w2CjnR5BMvbQbKTIE1TTCYF92StJvK4dZ7khDL9u6qqKJVlxH4Zz+5toeu62N4eot/vwzRbYAOwkbE5IUFRVFRKVYT2VdzdvYiWaRJZjJi0tCz7d4ZrCVl2Ij20qCml4j7MOy8QeTFNz4RKzvj4Vau1jco9IaRAelBlCVowgJvM4LQt9Hp9RFHEs/v7B2s1lHn3JKiKhrRYYnF4C77nYz5fYDqdYjgccf1Yyb/IziI90VCF3lIRphZMyqjTcRAEIWy7zcGyZNhk8xAhlSobsEINjz+uEN/YRp7lyAhR1EOeT7h1bt7c5TKsaw7XUKT1pKt19Do1tC2dGzoIAvh+gHa7w0/DaPI4JtFZZZ8Qymg2JCIsw+2YtAtzJMmYfDjgGNNeZCWXy1VUaBmL4ula/uwyBSi6Ansow+12kZFdhsMhL5sZezAY8OYw5HmOZtM81eh/CFXyYiDDsi1eokuTcoP0ZD50HIef7N4jB5zVnN8aagZlN5YQhAHZZUbZZbwROzTT7J2Rs3KZyc+yz88M2Qc6FdKRic+swua32/W4duydLY9NDP4DU1WwKplmROcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cypress1\"\n        title=\"cypress1\"\n        src=\"/static/c07b887813bda5664abad36c692942d6/0b533/cypress1.png\"\n        srcset=\"/static/c07b887813bda5664abad36c692942d6/fac75/cypress1.png 125w,\n/static/c07b887813bda5664abad36c692942d6/63868/cypress1.png 250w,\n/static/c07b887813bda5664abad36c692942d6/0b533/cypress1.png 500w,\n/static/c07b887813bda5664abad36c692942d6/4d4a2/cypress1.png 606w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li><strong>fixture</strong>\n<ul>\n<li>고정된 데이터를 넣어두는 폴더</li>\n</ul>\n</li>\n<li><strong>integration</strong>\n<ul>\n<li>테스트를 작성하는 폴더</li>\n</ul>\n</li>\n<li><strong>plugin</strong>\n<ul>\n<li>cypress 플러그인을 등록하는 폴더</li>\n</ul>\n</li>\n<li><strong>support</strong>\n<ul>\n<li>커스텀으로 명령어를 만들 수 있는 폴더</li>\n<li>ex) 로그인을 하는 함수</li>\n</ul>\n</li>\n</ul>\n<h3>test.js</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'User list test'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"유저 추가\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:3000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"테스트아이디\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test@email.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".submit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"테스트아이디\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#root > :nth-child(3)'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'contain'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li><strong>visit</strong>(<a href=\"https://docs.cypress.io/api/commands/visit\">https://docs.cypress.io/api/commands/visit</a>)\n<ul>\n<li>테스트하고자할 서버를 입력</li>\n</ul>\n</li>\n<li><strong>get</strong>(<a href=\"https://docs.cypress.io/api/commands/get#Syntax\">https://docs.cypress.io/api/commands/get#Syntax</a>)\n<ul>\n<li>해당 element를 가져옴</li>\n<li>queryselector와 같은 역할</li>\n</ul>\n</li>\n<li><strong>type</strong>(<a href=\"https://docs.cypress.io/api/commands/type#Syntax\">https://docs.cypress.io/api/commands/type#Syntax</a>)\n<ul>\n<li>dom 엘리먼트에 값을 타이핑</li>\n</ul>\n</li>\n<li><strong>contains</strong>(<a href=\"https://docs.cypress.io/api/commands/contains\">https://docs.cypress.io/api/commands/contains</a>)\n<ul>\n<li>dom 엘리먼트의 text 값을 확인</li>\n</ul>\n</li>\n<li><strong>should</strong>(<a href=\"https://docs.cypress.io/api/commands/should#Syntax\">https://docs.cypress.io/api/commands/should#Syntax</a>)\n<ul>\n<li>Assertion을 생성</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 377px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.599999999999994%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABEUlEQVQoz42RCWuDQBCF/f9/qUISbHARUUk8Vq0HAVEIolRFc+grMz2woYQ+eCzL7nxzKXmS41ydcbvdcLlccL1e+SS3bYuiKHA6nTCOI/q+Zw/DwO66DnmeQ9d1NE0DkqIFGmQhOZAe0zRlQFVVyLIMYRjCMAy+k9YJp2lCWZaQUjL8E/im4Vgc4bouDocDdCFg2zaiKEIQBIjjGEIX8H0fdV0z5JkU8SogPfkTTFDHcfhOpuwEp4Tqi8odzPOMZVn+tLLf77HZbrgCz/NgWRbEV5UEM00TSZIwnMC77Q5xFHM1jzCuUFVVHqqmaQygmdCA10si3+93brd773hBa+CvlmmY9IG2RoHUzn/0CPrWB9jEDBJkSC4LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cypress2\"\n        title=\"cypress2\"\n        src=\"/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png\"\n        srcset=\"/static/ccbf8fe9f914cae195364eb9594d76ff/fac75/cypress2.png 125w,\n/static/ccbf8fe9f914cae195364eb9594d76ff/63868/cypress2.png 250w,\n/static/ccbf8fe9f914cae195364eb9594d76ff/6146e/cypress2.png 377w\"\n        sizes=\"(max-width: 377px) 100vw, 377px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>위의 그림에서 저 테스트 내용을 시나리오를 해보면,</p>\n<ol>\n<li>id classname을 가진 input에 '테스트아이디' 텍스트 입력</li>\n<li>email classname을 가진 input에 '<a href=\"mailto:test@email.com\">test@email.com</a>' 입력</li>\n<li>button을 눌러 제출</li>\n<li>'테스트아이디'를 가진 엘리먼트를 클릭</li>\n<li>활성화된 유저가 2가 되면 테스트 성공</li>\n</ol>\n<h3>실행화면</h3>\n<p><img src=\"/src/images/c7753c46baabcf72aaba97783fde9647/cypress3.gif\" alt=\"cypress3\"></p>\n<h3>참고</h3>\n<ul>\n<li><a href=\"https://www.cypress.io/\">Cypress</a></li>\n</ul>","frontmatter":{"title":"[Cypress] 자바스크립트 e2e 테스트 프레임워크","date":"2021년 06월 03일, 22:40"}}},"pageContext":{"slug":"/15/post144/","previous":{"fields":{"slug":"/15/post143/"},"frontmatter":{"title":"[RxJS] ReactiveX javascript","path":"/posts/143"}},"next":{"fields":{"slug":"/15/post145/"},"frontmatter":{"title":"[백준] 2638번 치즈","path":"/posts/145"}}}},"staticQueryHashes":["1791144535","3649515864"]}