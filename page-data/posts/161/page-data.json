{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/161/","result":{"data":{"markdownRemark":{"html":"<h3>Mix-blend-mode</h3>\n<p>어느 요소의 컨텐츠가 자신의 배경 및 부모와 어떻게 혼합되어야 하는지 지정한다.</p>\n<p>예를 들면,</p>\n<p>같은 배경 색이 부모, 자식이 겹쳐있는 경우 자식이 좀 더 색이 진하게 표현되는 경우가 있다.</p>\n<pre><code class=\"language-css\">mix-blend-mode: multiply;\n</code></pre>\n<p>이 경우에 해당 속성을 사용해서 해결할 수 있다.</p>\n<h3>상태(State) 패턴</h3>\n<p>상태 패턴은 객체 내부의 상태가 변경될 때 해당 객체가 그의 행동을 변경할 수 있도록 하는 행동 디자인 패턴이다. 객체가 행동을 변경할 때 객체가 클래스를 변경한 것 처럼 보일 수 있다.</p>\n<p>상태 패턴은 유한 상태 기계에 밀접한 관련이 있다.\n이 패턴의 주요 개념은 모든 순간에 프로그램이 속해 있을 수 있는 상태들의 수는 유한하다는 것이다.\n어떤 고유한 상태 내에서 프로그램은 다르게 동작하며, 한 상태에서 다른 상태로 전환될 수 있다.</p>\n<p><em>예시를 살펴보자.</em></p>\n<ul>\n<li>Document 클래스\n<ul>\n<li>Draft(초안) 상태</li>\n<li>Moderation(검토) 상태</li>\n<li>Published(출판됨) 상태</li>\n<li>publish 메소드</li>\n</ul>\n</li>\n</ul>\n<p>위와 같은 클래스가 있다고 상상해보자.\npublish 메서드는 상태에 따라 작동이 조금씩 달라진다.</p>\n<ul>\n<li>Draft에서는 문서를 검토 상태로 이동</li>\n<li>Moderation에서는 문서를 공개하지만 현재 사용자가 관리자인 경우에만 공개</li>\n<li>Published에서는 아무 작업도 수행하지 않음</li>\n</ul>\n<p>상태 머신은 일반적으로 상태에 따른 동작을 다르게 구현해야하기 때문에 많은 조건문(if-else 혹은 switch)으로 구현된다.</p>\n<p>조건문에 기반된 상태머신은 새롭게 추가 요구사항이 들어온 경우 조건문이 추가되고 코드가 복잡해져 유지보수가 힘들다.</p>\n<p>위의 문제를 해결하기 위해서는 상태 패턴을 사용하면 된다.</p>\n<p><strong>해결책</strong></p>\n<p>상태 패턴은 객체의 모든 가능한 상태들에 대해 새 클래스를 만들고 모든 상태별 행동들을 이러한 클래스로 추출하는 것을 제안한다.</p>\n<p>콘텍스트라는 원래 객체는 모든 행동을 자체적으로 구현하지 않고 현재 상태를 나타내는 객체 중 하나에 대한 참조를 저장하고 모든 상태와 관련된 작업을 그 객체에 위임한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; height: 422.6993865030675px\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/76d9d2ebf84df548eae72f60652f876d/d30ee/state-pattern.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.03067484662577%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADUklEQVQ4yzVUPWwjRRgdc4gGpGtBCApOQhRXUXASBdcQBBVV7kqEREEkSiTQSUdFEfFbHL4LOgnpGtDJoUmcxLEj4WjjXXtn/7w74/Xs7Hh37fWPbMXOr5Ncjgz6VqJ4+ubTzDy9983bRZzznBDiGmPsxVqthkql0o3hcFgRQmwahrFlmuYWY2xjPB7vapr2se/7aHd392aSJKV2u71FCNmilBaTJKkRQr5AQggUxzHq9/uIEIK2t7ff7Xa7Mo5j2W63JaVUQj+dTqVhGEumaSLP8z44PT2V+/v70nEcGUWRhD5JkjxijL0XhuGdMAwXW63WbUVRbgFRFEWXJycnl0dHR5ez2ewCLpfL5W+klKhQKHwahuGzTqdz7nneeb/fPxkMBkD+A/J9/wmooJQeu66bqKr6eRiGF47j/EspfT6bzZ5Pp9OL2Wwmd3Z2vgbCYrEIAqTrupJzLufzuTw+PpadTuchcl33uud5rzabzdeEEC9Xq9X3wQKobLVama2DgwN5eHgoGWNLGGNkmuabqqbd13X9283NzQeEkO+EEN9rmvYRzCNDq9WCg2h9ff0tSuk/tm2XMcYVwzAquq6XPM+rYYxvj8djlCQJAqUIodzCwsLrCKFXoLcsC6F2u42CIMg5jvNCpVJBiqK8oev640aj8UhV1RWM8Yqu6yvQ1+v13zudztM4jpccx7kzGo0ODcPgvV5vEEWRvry8/DbSdR1hjHOe5700HA6B/BZjLLMMCIJAsiCQ/X5fpmkqR6MRwGo0Gl/BXrPZhFFks9zY2PgFaZqWazQamV2wHcfxDULpVRzH8zRNz7rd7lmv18vqZDI5nUwmQFje29v70vd9mPOzMAzPYV0sFn9G9Xod8I5lWZ/Ztr2IMV4SQvzNOS+EYVhgjK0GQbDKOV/t9XqFwWCwFkXRT7Zt30+SRNq2fZam6Rxis7a29mOmyvf9exABAFjwff8KXhosCSEgDhJiAmuoaZpemab5q+d5WfBBHewpivIos+q67j3LsrKLQATzAMBBqEAC5FABoIxz/km1Wr1LKf2TEPLQtu2/FEVZzD49IcSHhJA/LMt64DhOHmOcN00zr6pqVv+HZVl527Z/cxznMef8JiSk2+2iKIqytMC/4D9HKiKgq7Z7YQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"state-pattern.png\"\n        title=\"state-pattern.png\"\n        src=\"/static/76d9d2ebf84df548eae72f60652f876d/a6d36/state-pattern.png\"\n        srcset=\"/static/76d9d2ebf84df548eae72f60652f876d/222b7/state-pattern.png 163w,\n/static/76d9d2ebf84df548eae72f60652f876d/ff46a/state-pattern.png 325w,\n/static/76d9d2ebf84df548eae72f60652f876d/a6d36/state-pattern.png 650w,\n/static/76d9d2ebf84df548eae72f60652f876d/e548f/state-pattern.png 975w,\n/static/76d9d2ebf84df548eae72f60652f876d/d30ee/state-pattern.png 980w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>전략 패턴과 비슷해 보이지만, 전략패턴에서 전략들은 대부분 서로를 알 수 없지만 상태 패턴의 특정 패턴들을 서로 인식하고 한 상태에서 다른 상태로 변할 수 있다.</p>\n<p>참고)</p>\n<ul>\n<li><a href=\"https://refactoring.guru/ko/design-patterns/state\">https://refactoring.guru/ko/design-patterns/state</a></li>\n</ul>\n<h3>firebase realtime database OAuth로 인증</h3>\n<p><strong>문제상황</strong></p>\n<p>google cloud function에서  firebase 자바스크립트 sdk를 사용하고 있었음.\nOAuth로 realtime-database에 접근하려고 했지만, 자바스크립트 sdk에서는 OAuth 사용 불가</p>\n<p>참고)\n자바스크립트 SDK는 클라이언트(웹, 앱)에서 사용하며, reCAPCHA를 사용하여 인증하는 것 같다.</p>\n<p><strong>해결</strong></p>\n<p>자바스크립트 Admin SDK를 대신 사용했다.</p>\n<pre><code class=\"language-ts\">import * as dotenv from 'dotenv';\ndotenv.config();\nimport { initializeApp } from 'firebase/app';\nimport { initializeApp as initializeAdmin } from 'firebase-admin/app';\n\nconst firebaseConfig = {\n  // ...\n};\n\ninitializeApp(firebaseConfig);\n\n// const serviceAccount = require('../path-to-service-account.json');\ninitializeAdmin({\n  // credential: admin.credential.cert(serviceAccount),\n  databaseURL: process.env.DATABASE_URL,\n})\n\nexport * from './functions';\n</code></pre>\n<p>심지어 어떤 credential을 넣어줄 필요도 없다. 배포가 되면 자동으로 사용하기 때문.\n하지만, <strong>로컬 환경에서는 credential이 있어야 작동</strong>한다.</p>\n<h2>CAPTCHA, reCAPTCHA</h2>\n<p>CAPTCHA는 Completely Automated Public Turing test to tell computers and Humans Apart의 약자이다. 어떤 사용하자 실제 사람인지 컴퓨터 프로그램인지 구별하기 위해 사용되는 방법이다. HIP(Human Interaction Proof) 기술의 일종.</p>\n<p>사람은 구별할 수 있지만 컴퓨터는 구별하기 힘들게 의도적으로 비틀거나 덧칠한 그림을 주고 그 그림에 쓰여있는 내용을 물어보는 방법이 자주 사용된다.</p>\n<p>흔히 웹 사이트 회원가입 또는 자동기입방지 프로그램에 사용된다.</p>\n<p>ex)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 220px; height: 60.736196319018404px\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/18441c09e7694b10fbf2980a8ee3c0d5/c8042/captcha.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.607361963190186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVQY012P3U7CQBCF++yCN0YxxJKIWoQt1YjxxgiipYBoqqIVSngJDbHd7Q/tdnfGtDdEJl8mc5I5JzNKECELMYgwiDFa54MfgMckLbrPgK4xQAyFyCSksIFLUKIwYTT1vGi1Yj/fPmUJ51IITFIAQC4gSTmjNBfbBQohuusuq9UjnRj141NC2r3uw3y+pDR+n341ia6qKiHEcZx8/X+EUtopnzdaraZOiHHdubm8uFLVWrm0e7B/aA3He5XKbe9ebxua1nCcT0SUUm7MT+OJ+WgNTMs0h6PR8/TNeZm8du/6Z5qGiLX6ycds1jcHtm0vFu62mQY8FZhkyDNMi1djmcOE8AF8zn8zkRTXSsQMMAMQALLgD0LKOwA66SS1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"captcha\"\n        title=\"captcha\"\n        src=\"/static/18441c09e7694b10fbf2980a8ee3c0d5/c8042/captcha.png\"\n        srcset=\"/static/18441c09e7694b10fbf2980a8ee3c0d5/222b7/captcha.png 163w,\n/static/18441c09e7694b10fbf2980a8ee3c0d5/c8042/captcha.png 220w\"\n        sizes=\"(max-width: 220px) 100vw, 220px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n가끔 사람도 읽기 힘들 때가 있다..</p>\n<p><strong>reCAPTCHA</strong> 는 기존의 CAPTCHA를 대체하기 위해 google이 제공하는 무료 서비스이다. 카네기 멜론 대학교에서 만들었는데 구글이 2009년에 인수했다.</p>\n<p>좀 더 발전된  CAPTCHA라고 보면되는데 아래와 같이 다양한 텍스트 &#x26; 그림이 추가됐다.</p>\n<ul>\n<li>도로명 주소의 그림</li>\n<li>인새된 책자의 테스트</li>\n<li>오래된 신문의 텍스트</li>\n</ul>\n<p>그리고 또 다른 방식으로는 이미지 인식이 있는데 아마 자주 봤을 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; max-width: 268.3127572016461px; height: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b67883c58ec28861fcff121516c7f239/5a46d/rcaptcha-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 149.07975460122697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rcaptcha-1\"\n        title=\"rcaptcha-1\"\n        src=\"/static/b67883c58ec28861fcff121516c7f239/5a46d/rcaptcha-1.png\"\n        srcset=\"/static/b67883c58ec28861fcff121516c7f239/222b7/rcaptcha-1.png 163w,\n/static/b67883c58ec28861fcff121516c7f239/5a46d/rcaptcha-1.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>가끔은 사람도 풀기 어려운 이미지 맞추기.</p>\n<p>다른 방식으로는 간단해 보이는 테스트 방식도 있다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 620px; height: 182.57668711656441px\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cba45c854ccc17f1c85f55ae8a4c2bc4/2a195/rcaptcha-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.447852760736193%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVQY033QzUrDQBAH8Dywj+ELePAhPIo3QWjtofQqNgmY1ZiFzH5kJ11nN7N4kmxaP6D4Ow0Mf+bPFABgTvQ5P1tjnDU9qKfX9mNErVQxDEMIwXsfQpgyZv4eEnOMMWRE9DnFy9pe3K6u7+4Hh4W1NsaYUkLEtm2llEIIKWXXdS/NzDlHRN77KdCbslcP23Ecbx632phjmJnn8PusqiohRNM0ZVk+7/eIuISJCBF3m816vQLZ+cPhTO2UEi+ds9+1lxt1XWttELH452EqM38BQN/3kH0B9QtHnjl3ZW4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rcaptcha-2\"\n        title=\"rcaptcha-2\"\n        src=\"/static/cba45c854ccc17f1c85f55ae8a4c2bc4/2a195/rcaptcha-2.png\"\n        srcset=\"/static/cba45c854ccc17f1c85f55ae8a4c2bc4/222b7/rcaptcha-2.png 163w,\n/static/cba45c854ccc17f1c85f55ae8a4c2bc4/ff46a/rcaptcha-2.png 325w,\n/static/cba45c854ccc17f1c85f55ae8a4c2bc4/2a195/rcaptcha-2.png 620w\"\n        sizes=\"(max-width: 620px) 100vw, 620px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>해당 방법은 엄청 단순해보이지만 해당 체크박스에 커서를 옮기는 동작을 고려한다. 인간이라면 미세 수준의 무작위성이 있기 때문에 커서가 예측하기 어렵게 움직이면 사람이라고 판단한다. 그리고 reCAPTCHA는 사용자 기기의 브라우저에 저장된 쿠키 또는 기기 이력에 접속할 수도 있으며, 이를 통해서 사용자가 봇일 가능성을 판단한다.</p>\n<p><strong>단점</strong>\n제일 큰 단점은 사용자의 경험을 저해한다는 것이다... 그리고 시각 장애인 분들은 사용할 수 없다는 단점도 가지고 있다.</p>\n<p>또 모든 봇을 거를 수 있는 것은 아니기 때문에 100퍼센트 신뢰하기는 어렵다.</p>\n<p>참고)</p>\n<ul>\n<li><a href=\"https://ko.wikipedia.org/wiki/CAPTCHA\">https://ko.wikipedia.org/wiki/CAPTCHA</a></li>\n</ul>","frontmatter":{"title":"8월 5주차","date":"2023년 09월 03일, 06:41"}}},"pageContext":{"slug":"/17/post161/","previous":{"fields":{"slug":"/16/post160/"},"frontmatter":{"title":"8월 4주차","path":"/posts/160"}},"next":{"fields":{"slug":"/17/post162/"},"frontmatter":{"title":"9월 1주차","path":"/posts/162"}}}},"staticQueryHashes":["3649515864"],"slicesMap":{}}