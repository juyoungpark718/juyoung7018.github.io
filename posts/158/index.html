<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.2.0"/><meta name="theme-color" content="#663399"/><style data-href="/styles.d27f801798989894aff7.css" data-identity="gatsby-global-css">:root[data-theme=dark]{--background:#262626;--fontColor:#d1d1d1;--border:#363636;--pre:#212121;--blockquote:#999;--blockquoteBorder:#4618dc;--listDot:#595959;--code:#8a8a8a}:root[data-theme=light]{--background:#fff;--fontColor:#0f0f0f;--border:#363636;--pre:#595959;--blockquote:#999;--blockquoteBorder:#4618dc;--listDot:#595959;--code:#8a8a8a}html{background-color:var(--background);color:var(--fontColor)}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta .hljs-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta .hljs-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}*{box-sizing:border-box}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{color:inherit;text-decoration:none}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-166584207-1', 'auto', {});
      
      
      
      
      
      }</script><title data-react-helmet="true">8월 2주차</title><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><style data-styled="" data-styled-version="5.3.6">@media screen and (max-width:992px){.dVKDiH{margin-bottom:0;padding:0 16px;}}/*!sc*/
data-styled.g1[id="header__HeaderContainer-sc-ysgs6u-0"]{content:"dVKDiH,"}/*!sc*/
.cdQeRk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:10vh;}/*!sc*/
@media screen and (max-width:480px){.cdQeRk{width:100%;}}/*!sc*/
.cdQeRk a{color:var(--fontColor);-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cdQeRk h1{font-size:28px;}/*!sc*/
.cdQeRk ul li{float:left;margin-right:8px;}/*!sc*/
.cdQeRk ul li:last-child{margin:0;}/*!sc*/
data-styled.g2[id="header__HeaderContent-sc-ysgs6u-1"]{content:"cdQeRk,"}/*!sc*/
.whTjR{max-width:800px;margin:0 auto;}/*!sc*/
@media screen and (max-width:992px){.whTjR{width:100%;}}/*!sc*/
data-styled.g3[id="layout__LayoutContainer-sc-1jer9s0-0"]{content:"whTjR,"}/*!sc*/
.jMrPkw{min-height:85vh;}/*!sc*/
data-styled.g4[id="layout__LayoutMain-sc-1jer9s0-1"]{content:"jMrPkw,"}/*!sc*/
.kjCkDn{min-height:5vh;bottom:0;}/*!sc*/
@media screen and (max-width:992px){.kjCkDn{padding:0 16px;}}/*!sc*/
data-styled.g5[id="layout__LayoutFooter-sc-1jer9s0-2"]{content:"kjCkDn,"}/*!sc*/
.cXgZDv{max-width:100%;}/*!sc*/
data-styled.g6[id="BlogPost__BlogContainer-sc-u54hj2-0"]{content:"cXgZDv,"}/*!sc*/
.hJeECZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto;}/*!sc*/
@media screen and (max-width:992px){.hJeECZ{width:100%;}}/*!sc*/
data-styled.g7[id="BlogPost-sc-u54hj2-1"]{content:"hJeECZ,"}/*!sc*/
.KKrrd{width:100%;border-bottom:1px solid #cfcfcf;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:2rem 0;}/*!sc*/
data-styled.g8[id="BlogPost__BlogHeader-sc-u54hj2-2"]{content:"KKrrd,"}/*!sc*/
.ixTwRX{font-size:36px;margin-bottom:16px;}/*!sc*/
@media screen and (max-width:992px){.ixTwRX{font-size:24px;}}/*!sc*/
data-styled.g9[id="BlogPost__BlogTitle-sc-u54hj2-3"]{content:"ixTwRX,"}/*!sc*/
.iVOSrr{font-size:12px;}/*!sc*/
data-styled.g10[id="BlogPost__BlogDate-sc-u54hj2-4"]{content:"iVOSrr,"}/*!sc*/
.bUiNQn{font-size:15px;padding-top:24px;white-space:pre-wrap;background-color:var(--background);color:var(--fontColor);color:var(--fontColor);}/*!sc*/
@media screen and (max-width:992px){.bUiNQn{width:100%;padding-left:16px;padding-right:16px;}}/*!sc*/
.bUiNQn .hljs{line-height:18px;}/*!sc*/
.bUiNQn img{width:100%;}/*!sc*/
.bUiNQn h3{font-size:22px;font-weight:700;}/*!sc*/
.bUiNQn h4{font-size:18px;font-weight:700;}/*!sc*/
.bUiNQn a{overflow:hidden;word-break:break-all;}/*!sc*/
.bUiNQn p{font-size:16px;line-height:24px;font-weight:400;color:inherit;}/*!sc*/
.bUiNQn blockquote{color:var(--blockquote);background-color:var(--background);border-left:2px solid var(--blockquoteBorder);padding-left:24px;}/*!sc*/
.bUiNQn ul{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;line-height:8px;padding-left:16px;white-space:normal;}/*!sc*/
.bUiNQn ul li{line-height:24px;}/*!sc*/
.bUiNQn ul li::before{content:"\2022";font-size:1.5em;color:var(--listDot);font-weight:bold;display:inline-block;vertical-align:bottom;width:1em;margin-left:-1em;}/*!sc*/
.bUiNQn code{background-color:var(--pre);color:var(--code);padding:2px 4px;border-radius:4px;}/*!sc*/
.bUiNQn pre{background-color:var(--pre);overflow-x:auto;background-color:var(--pre);color:var(--code);border-radius:4px;}/*!sc*/
.bUiNQn table{text-align:left;}/*!sc*/
.bUiNQn table tr{border-bottom:1px solid var(--border);}/*!sc*/
.bUiNQn table th,.bUiNQn table td{border-right:1px solid var(--border);padding:8px 12px;}/*!sc*/
.bUiNQn table th:first-child,.bUiNQn table td:first-child{padding-left:0;}/*!sc*/
.bUiNQn table th:last-child,.bUiNQn table td:last-child{border:none;}/*!sc*/
.bUiNQn strong{font-weight:900;}/*!sc*/
data-styled.g11[id="BlogPost__BlogPostContent-sc-u54hj2-5"]{content:"bUiNQn,"}/*!sc*/
.kJiPDZ{width:100%;border-top:1px solid #cfcfcf;margin-top:24px;padding:0 16px;}/*!sc*/
.kJiPDZ .utterances{margin:0;max-width:100%;}/*!sc*/
data-styled.g13[id="BlogPost__BlogComment-sc-u54hj2-7"]{content:"kJiPDZ,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout__LayoutContainer-sc-1jer9s0-0 whTjR"><header class="header__HeaderContainer-sc-ysgs6u-0 dVKDiH"><div class="header__HeaderContent-sc-ysgs6u-1 cdQeRk"><div><a href="/"><h1>BLOG</h1></a></div><div><ul><a href="/post/"><li>POST</li></a></ul></div></div></header><main class="layout__LayoutMain-sc-1jer9s0-1 jMrPkw"><div class="BlogPost__BlogContainer-sc-u54hj2-0 cXgZDv"><div class="BlogPost-sc-u54hj2-1 hJeECZ"><div class="BlogPost__BlogHeader-sc-u54hj2-2 KKrrd"><h1 class="BlogPost__BlogTitle-sc-u54hj2-3 ixTwRX">8월 2주차</h1><h5 class="BlogPost__BlogDate-sc-u54hj2-4 iVOSrr">2023년 08월 13일, 07:13</h5></div><div class="BlogPost__BlogPostContent-sc-u54hj2-5 bUiNQn"><h3>Visitor 디자인 패턴</h3>
<p>방문자 패턴은 알고리즘들이 그들이 작동하는 객체로부터 분리할 수 있도록 하는 행동 디자인 패턴이다.
이렇게하면 기존의 구조를 건드리지 않고 새로운 로직을 추가할 수 있다.</p>
<p><strong>예제</strong></p>
<p><em>문제</em></p>
<p>하나의 거대한 그래프로 구성된 지리 정보를 사용해 작동하는 앱을 개발한다고 가정해보자.
그래프의 각 노드는 도시와 같은 복잡한 객체를 나타낼 수 있지만, 산업, 관광 지역 등의 더 세부적인 항목도 나타낼 수 있다.</p>
<p>만약 노드가 나타내는 실제 객체들 사이에 도로가 있으면 노드는 연결된다.</p>
<p>이제 이 그래프를 XML로 내보내는 작업의 구현을 하게 되었다.
하지만, 기존 노드 클래스를 변경하는 것은 허용하지 않아야한다.
(실제 프로덕션 코드에 나가 있어서 기존 코드의 변경이 일어나지 않았으면 하는 경우)</p>
<p>또, 노드 클래스 내에서 XML내보내기 코드를 넣는 것이 적절한지에 대한 의문.</p>
<p>노드 클래스의 주 작업은 지리 데이터를 처리하는 것이지 XML 내보내기 동작은 지리 데이터를 처리하는 것이라고 보기 어렵다.</p>
<p><em>해결책</em></p>
<p>새로운 구현사항을 기존의 클래스에 추가하는 것 대신 visitor라는 별도의 클래스를 만들면 된다.
XML 내보내기 로직을 visitor가 가지고 지리 데이터를 가지고 있는 객체를 메소드의 인자로 받아서 실행된다.</p>
<pre><code class="language-ts">class ExportVisitor implements Visitor {
  doForCity(c: City) {
    // ...
  }

  doForIndustry(f: Industry) {
    //...
  }

  doForSightSeeing(c: SightSeeing) {
    //...
  }
}
</code></pre>
<p>위와 같은 경우 메서드를 각 노드의 클래스에 맞게 호출해야한다.</p>
<pre><code class="language-ts">for(const node of nodes){
  if(node instanceof City){
    exportVisitor.doForCity(node)
  }

  if(node instanceof Industry){
    exportVisitor.doForCity(node)
  }

  if(node instanceof SightSeeing){
    exportVisitor.doForCity(node)
  }
}
</code></pre>
<p>타입스크립트에서는 다형성을 사용할 수도 없고, 해당 코드는 시그니처도 달라서 사용할 수 없다. 그리고 노드의 수가 많아진다고 생각해보면 코드가 복잡해진다.</p>
<p>그래서 비지터 패턴에서는 <strong>더블 디스패치</strong>라는 방법을 사용하여 해결한다.</p>
<p>이 방법은 번거로운 조건문 없이 객체에 맞는 메서드를 실행하게 도와준다. 클라이언트가 호출할 메서드의 적절한 버전을 선택하도록 하는 대신 이 선택권을 비지터에게 인수로 전달되는 객체로 위임한다.</p>
<p>이렇게하면 객체들은 자신들의 클래스를 알고 있기 때문에  비지터의 자신의 클래스에 맞는 메서드를 실행할 수 있다.</p>
<pre><code class="language-ts">for (const node of nodes) {
  node.accept(exportVisitor);
}

class City extends Node1 {
  accept(v: Visitor) {
    v.doForCity(this);
  }
}
class Industry extends Node1 {
  accept(v: Visitor) {
    v.doForIndustry(this);
  }
}
class SightSeeing extends Node1 {
  accept(v: Visitor) {
    v.doForSightSeeing(this);
  }
}
</code></pre>
<p>결국 노드 클래스를 변경했지만, 변경 사항은 최소한으로 했고 비지터는 복잡한 조건문으로 노드 클래스를 찾지 않아도 된다.</p>
<p>이제 만약 새로운 Visitor를 만들고 싶다면 기존 코드의 변화 없이 Visitor 추상 클래스의 구현을 만족하는 구체 클래스를 만들어서 새로운 로직을 기존 코드에 적용할 수 있다.</p>
<p><strong>장점</strong></p>
<ul>
<li>개방/폐쇄의 원칙</li>
<li>단일 책임의 원칙</li>
<li>객체 트리와 같은 복잡한 객체 구조를 순회하여 각 객체에 비지터 패턴을 적용하는 경우 유용</li>
</ul>
<p><strong>단점</strong></p>
<ul>
<li>클래스가 요소 계층구조에 추가되거나 제거될 때마다 모든 비지터를 업데이트 해야함</li>
<li>비지터들은 함께 작업해야하는 요소들의 비공개 필드 및 메서드들에 접근하기 위해 필요한 권한이 부족</li>
</ul>
<p>참고)</p>
<ul>
<li><a href="https://refactoring.guru/ko/design-patterns/visitor">https://refactoring.guru/ko/design-patterns/visitor</a></li>
</ul>
<hr>
<h3>휴리스틱</h3>
<blockquote>
<p>불충분한 시간이나 정보로 인하여 합리적인 판단을 할 수 없거나, 체계적이면서 합리적인 판단이 굳이 필요하지 않은 상황에서 사람들이 빠르게 사용할 수 있게 보다 용이하게 구성된 간편추론의 방법 - 위키백과</p>
<p> <strong>가능한 가장 좋은 해답</strong> 혹은 <strong>최적의 해결법에 접근하기 위한 빠른 방법</strong>을 얻기 위해 특히 쓰인다.</p>
</blockquote>
<p>휴리스틱 알고리즘 기본적으로 모두 최적해가 될 가능성이 없는 답들을 탐색하는 것을 방지하여 만들어 봐야 할 답의 수를 줄이는 것을 목표로 한다.</p>
<p>react에서도 가상 돔의 diff를 알기 위해서 사용하고 있는 것으로 알고 있다.</p>
<ul>
<li>가지치기(pruning) 기법</li>
<li>Simulated Annealing (담금질 기법)</li>
<li>Genetic Algorithms (유전 알고리즘)</li>
</ul>
<p>참고)</p>
<ul>
<li><a href="https://kau-algorithm.tistory.com/7">https://kau-algorithm.tistory.com/7</a></li>
</ul>
<hr>
<h3>react-query의 useQuery callback 함수의 deprecated</h3>
<p>v5 부터는 useQuery에서 onSuccess, onError 등의 콜백 함수가 사라진다.</p>
<p>예상대로 동작하지 않을 가능성이 높은 API이기 때문인데, API에서 가장 중요한 것은 일관성인데 useQuery의 콜백은 그렇지 않다.</p>
<p>예제로 살펴보면,</p>
<h5>나쁜 API</h5>
<pre><code class="language-js">export function useTodos() {
  return useQuery({
    queryKey: ['todos', 'list'],
    queryFn: fetchTodos,
    onError: (error) => {
      toast.error(error.message)
    },
  })
}
</code></pre>
<p>쿼리가 실패하는 경우 콜백을 사용해서 에러 알림 같은 effect를 생성할 수 있다. 이 API는 직관적으로 보인다.
이렇게 하지 않는 경우 useEffect를 이용해서 처리해줘야한다.</p>
<p>하지만 이 경우에 에러가 있는데, useTodos를 2번 실행하는 경우 에러 알림이 두 번 노출된다.</p>
<p>useEffect를 사용하는 경우에는 각 컴포넌트에서 두 번 중복으로 호출 되는 것을 잘 볼 수 있는데, useQuery에 콜백으로 넘기는 경우 그렇지 않다.</p>
<h4>상태 동기화</h4>
<p>콜백이 잠재적으로 여러번 실행될 수 있는 것 외에 사람들이 콜백을 사용해 상태를 동기화 하는 경우도 있다.</p>
<pre><code class="language-js">export function useTodos() {
  const [todoCount, setTodoCount] = React.useState(0)
  const { data: todos } = useQuery({
    queryKey: ['todos', 'list'],
    queryFn: fetchTodos,
    //😭 제발 이러지 마세요
    onSuccess: (data) => {
      setTodoCount(data.length)
    },
  })

  return { todos, todoCount }
}
</code></pre>
<p><strong>추가적인 렌더링의 발생</strong></p>
<p><code>setTodoCount</code>를 사용하게 되면 다른 렌더링 사이클을 끼워 넣는 셈이다.</p>
<p>이건 앱을 필요 이상으로 자주 렌더링 되게 만들 뿐만 아니라(문제되거나 안될 수도 있겠지만)</p>
<p>중간의 렌더링 사이클에 잘못된 값이 포함될 수 있다.</p>
<p>ex) </p>
<p><code>fetchTodos</code>는 길이가 5인 목록을 반환한다고 가정한다면 위 코드에서 렌더링 사이클은 세 번입니다.</p>
<ol>
<li><code>todos</code>는 <code>undefined</code>이고 길이가 0. Query가 fetch되는 동안의 초기 상태이며 올바른 상태</li>
<li><code>todos</code>는 길이가 5인 배열이 되고 <code>todoCount</code>는 0이 됨. 이건 <code>useQuery</code>와 <code>onSuccess</code>는 이미 실행을 마쳤고 <code>setTodoCount</code>는 예약된 중간의 렌더링 사이클입니다. 값들이 동기화되지 않았기 때문에 잘못된 상태로 존재.</li>
<li><code>todos</code>는 길이가 5인 배열이 되고 <code>todoCount</code>는 5가 됩니다. 이게 최종 상태이며 다시 올바른 상태</li>
</ol>
<p>만약 동기화 되지 않는 데이터로 렌더링 된다면 문제가 분명히 있을 것이다. 추가로 동기화되지 않은 상태로 무언가 로직이 처리된다면 이 또한 문제이다.</p>
<p>간단한 해결책은 <strong>상태를 파생시키는 것</strong>이다.</p>
<pre><code class="language-js">export function useTodos() {
  const { data: todos } = useQuery({
    queryKey: ['todos', 'list'],
    queryFn: fetchTodos,
  })

  const todoCount = todos?.length ?? 0

  return { todos, todoCount }
}
</code></pre>
<p>위에서 살펴본 예제같이 여러가지 문제점을 가지고 있는 API이기 때문에 v5부터는 삭제된다.(더 많은 예제는 블로그 참고.)</p>
<p>버저닝에 대한 뼈아픈 일침(?)이 있어 적어본다.</p>
<blockquote>
<p>완전 동의합니다. semver의 메이저 버전 숫자는 새로운 걸 의미하는 게 아니라 API를 몇번이나 잘못 만든 건지 영원히 상기시켜주는 겁니다. semver는 메이저.마이너.패치가 아니라 실패.기능.버그를 의미합니다.</p>
<ul>
<li>
<ol start="2021">
<li>
<ol start="8">
<li>6 <a href="https://twitter.com/willmcgugan/status/1423678688802058244">Will McGan의 트윗</a></li>
</ol>
</li>
</ol>
</li>
</ul>
</blockquote>
<p>메이저 버전 업데이트는 기존의 설계의 실패라고 생각할 수 있겠다..</p>
<p>참고)</p>
<ul>
<li><a href="https://github.com/TanStack/query/discussions/5279">https://github.com/TanStack/query/discussions/5279</a></li>
<li><a href="https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose">https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose</a>
<ul>
<li>번역) <a href="https://velog.io/@cnsrn1874/breaking-react-querys-api-on-purpose">https://velog.io/@cnsrn1874/breaking-react-querys-api-on-purpose</a></li>
</ul>
</li>
</ul>
<hr>
<h3>CSS에서의 env funtion</h3>
<p>var function이랑 비슷하다. var는 유저가 세팅하는 값이라면, env는 사용자의 user-agent에 따라서 정의된 값을 사용할 수 있다.</p>
<p>사용하는 곳은 아이폰 노치와 같은 것을 대응할 때 사용한다.</p>
<pre><code class="language-css">/* Using the four safe area inset values with no fallback values */
env(safe-area-inset-top);
env(safe-area-inset-right);
env(safe-area-inset-bottom);
env(safe-area-inset-left);

/* Using them with fallback values */
env(safe-area-inset-top, 20px);
env(safe-area-inset-right, 1em);
env(safe-area-inset-bottom, 0.5vh);
env(safe-area-inset-left, 1.4rem);
</code></pre>
<p>이 외에도 아래와 같은 값이 있다.</p>
<ul>
<li>titlebar-area-x : PWA를 사용하는 경우 데스크탑에서 window control 버튼에 겹치지 않게 도와준다.</li>
<li>keyboard-inset-x : VirtualKeyboard의 위치나 크기에 대한 정보를 제공한다.</li>
</ul>
<p>참고)</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/env">https://developer.mozilla.org/en-US/docs/Web/CSS/env</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/VirtualKeyboard_API">https://developer.mozilla.org/en-US/docs/Web/API/VirtualKeyboard_API</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override">https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override</a></li>
</ul>
<hr>
<h3>기타</h3>
<h4>RFC</h4>
<p>Request for Comments
'의견을 요청하는 문서'라는 의미로 국제 인터넷 표준화 기구(IETF; Internet Engineering Task Fource)에서 관리하는 기술 표준</p>
<p>승인된 문서는 유일한 일련 번호를 갖게 되며 'RFC-일련번호' 형식</p>
<p>참고)</p>
<ul>
<li><a href="https://www.lesstif.com/software-architect/rfc-request-for-comments-129007717.html">https://www.lesstif.com/software-architect/rfc-request-for-comments-129007717.html</a></li>
</ul>
<h4>spellCheck</h4>
<p>전역 속성으로 스펠링을 체크할 것인지 아닌지 판단하는 속성이다.</p>
<p>![[스크린샷 2023-08-11 오전 6.17.36.png]]</p>
<h4>contenteditable</h4>
<p>전역속성으로 사용자가 요소를 편집할 수 있는지 나타내는 특성이다.</p>
<p>위의 예제 같이 참고</p>
<p>참고)</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/spellcheck">https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/spellcheck</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable">https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable</a></li>
</ul>
<h4>styled-components의 pass props</h4>
<p><code>$</code> 를 styled-components props로 전달해주면 해당 props는 태그의 attributes로 전달되지 않는다.</p>
<p>예제)</p>
<pre><code class="language-js">// Create an Input component that'll render an &#x3C;input> tag with some styles
const Input = styled.input&#x3C;{ $inputColor?: string; }>`
  padding: 0.5em;
  margin: 0.5em;
  color: ${props => props.$inputColor || "#BF4F74"};
  background: papayawhip;
  border: none;
  border-radius: 3px;
`;

// Render a styled text input with the standard input color, and one with a custom input color
render(
  &#x3C;div>
    &#x3C;Input defaultValue="@probablyup" type="text" />
    &#x3C;Input defaultValue="@geelen" type="text" $inputColor="rebeccapurple" />
  &#x3C;/div>
);
</code></pre>
<p>위의 코드 실행 결과
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; height: 199.38650306748468px"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b5990316d93472395e00c5b304a9a11b/1be7e/styled-component-pass-props.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.67484662576687%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVQY003P207DMAyA4b3/Q3EQ3CAhuOM8xtaOtut5Sp20Ofyo6YRqyYqVyF/sTX3MSPcZP7uMU5YhgyKEwBzOuViPMlKlJV3ZIaL/U6khphkMwS89m+enK24frrl7vOHl9R68Y3maQU8gYJShPRa05Zm60bStpm2EvhOUMhH0zi9gffhE8jd894FXabxcT+iDRytDl+bUec+pNJSVpms0Q2+YJo+dHMFfQBlkFiD4eMbyAo7jyGSnCPZ5jZYREYfWFpEJYyyTnUEbJ5z7Nlrry1Qsq0Z0AX38NRCcQxUN0tTkuVAUmqocUJ0iTI51rMAFCquVrXVUg6U28HsSDruC7aHlO2nZJmfe98I2UfwWLV/JwLEa+QPcn8+VepMTeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="styled-component-pass-props"
        title="styled-component-pass-props"
        src="/static/b5990316d93472395e00c5b304a9a11b/a6d36/styled-component-pass-props.png"
        srcset="/static/b5990316d93472395e00c5b304a9a11b/222b7/styled-component-pass-props.png 163w,
/static/b5990316d93472395e00c5b304a9a11b/ff46a/styled-component-pass-props.png 325w,
/static/b5990316d93472395e00c5b304a9a11b/a6d36/styled-component-pass-props.png 650w,
/static/b5990316d93472395e00c5b304a9a11b/e548f/styled-component-pass-props.png 975w,
/static/b5990316d93472395e00c5b304a9a11b/1be7e/styled-component-pass-props.png 1059w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>참고)</p>
<ul>
<li><a href="https://styled-components.com/docs/basics#passed-props">https://styled-components.com/docs/basics#passed-props</a></li>
</ul></div><div class="BlogPost__BlogComment-sc-u54hj2-7 kJiPDZ"></div></div></div></main><footer class="layout__LayoutFooter-sc-1jer9s0-2 kjCkDn">© 2020, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/158/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-b4b678e888efb3a41cf4.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-0a8a850b2368aa02c1ca.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-076e10352211e3cf8006.js\"],\"component---src-templates-blog-list-tsx\":[\"/component---src-templates-blog-list-tsx-e12e8c70274365103f34.js\"],\"component---src-templates-blog-post-tsx\":[\"/component---src-templates-blog-post-tsx-6629c5d063e0fe53bf8d.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="b963f3acc71da7f7cfe3";</script><script src="/webpack-runtime-f57d284def900217fe47.js" async></script><script src="/framework-edabc3b0154c22465b3f.js" async></script><script src="/app-b4b678e888efb3a41cf4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>